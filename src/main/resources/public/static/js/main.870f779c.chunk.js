(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,n){e.exports=n(455)},21:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"m",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return m}),n.d(t,"k",function(){return h}),n.d(t,"n",function(){return g});var a="@@api/stompClient/IS_CONNECTING",r="@@api/stompClient/HAS_CONNECTED",o="@@api/stompClient/HAS_FAILED_TO_CONNECT",i="@@api/stompClient/HAS_DROP_CONNECTION",c="@@api/stompClient/INIT_OVER",s="@@api/stompClient/RECEIVED_ERROR_MESSAGE",l="@@reset/RESET_STOMP_STATE",u=function(){return{type:a}},d=function(){return{type:r}},f=function(){return{type:o}},p=function(){return{type:i}},m=function(){return{type:c}},h=function(e){return{type:s,message:e}},g=function(){return{type:l}}},218:function(e,t,n){"use strict";n.r(t),n.d(t,"getConfig",function(){return a}),n.d(t,"saveConfig",function(){return r});var a=function(){var e=localStorage.getItem("guiConfig");return e?JSON.parse(e):(console.log("Returning a mocked config to prevent exception from NullPointer"),{host:window.location.hostname,port:window.location.port||80,pathPrefix:window.location.pathname.substring(1,window.location.pathname.lastIndexOf("/ui"))||"",secretToken:""})},r=function(e){localStorage.setItem("guiConfig",JSON.stringify(e))}},219:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"getConfig",function(){return r}),n.d(t,"saveConfig",function(){return o});var r=function(){if(!a){var e=localStorage.getItem("guiConfig");a=e?JSON.parse(e):{host:window.location.hostname,port:window.location.port||80,pathPrefix:"",secretToken:""}}return a},o=function(e){localStorage.setItem("guiConfig",JSON.stringify(e)),a=e}},221:function(e,t,n){},24:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l});var a="@@api/listener/CONFIG_IS_IN_DIRTY_STATE",r="@@api/listener/INVALID_CONFIG",o="@@api/listener/CONFIG_HAS_BEEN_LOADED",i="@@api/listener/LIST_OF_CLIENT_FILES",c="@@reset/RESET_CONFIG",s=function(e){return{type:"@@api/send/SEND_CONFIG",config:e}},l=function(){return{type:c}}},27:function(e,t,n){"use strict";var a,r,o=n(36),i=n(37),c=n(171),s=n.n(c),l=n(54),u=n(21),d=function(){function e(t,n){Object(o.a)(this,e),this.reconnectTimeout=void 0,this.reduxStore=t,this.onDisconnectCallback=n,this.subscriptions=[],this.stompClient={}}return Object(i.a)(e,[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.stompClient&&this.stompClient.connected?this.stompClient.send(e,t,n):console.error("You can not send message to JOAL when not connected through WebSocket.")}},{key:"connect",value:function(){var e=this,t=Object(l.a)(),n="https:"===window.location.protocol?"wss":"ws",a="".concat(n,"://").concat(t.host,":").concat(t.port,"/").concat(t.pathPrefix),r=t.secretToken;this._dispatchOnConnect(),this.stompClient=s.a.client(a,{debug:!1,protocols:["v12.stomp","v11.stomp"]}),this.stompClient.connect({"X-Joal-Auth-Token":r,"X-Joal-Username":([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},function(){e._dispatchHasConnected(),e.stompClient.subscribe("/joal/initialize-me",function(t){JSON.parse(t.body).forEach(function(t){e.onReceiveMessage(t)}),e._dispatchIsReady(),t.ack(),e.stompClient.unsubscribe("/initialize-me")}),["/global","/announce","/config","/torrents","/speed"].forEach(function(t){var n=e.stompClient.subscribe(t,function(t){t.ack(),e.onReceiveMessage(JSON.parse(t.body))},{ack:"client"});e.subscriptions.push(n)})},function(t){(console.log("error message from websocket",t),t instanceof CloseEvent)?(e.subscriptions.length>0?e._dispatchHasDropConnection():e._dispatchHasFailedToConnect(),e.onDisconnectCallback&&e.onDisconnectCallback(),e._reconnectAfterTimeout(8e3)):e.reduxStore.dispatch(Object(u.k)(t.headers.message))})}},{key:"_dispatchIsReady",value:function(){this.reduxStore.dispatch(Object(u.l)())}},{key:"_dispatchOnConnect",value:function(){this.reduxStore.dispatch(Object(u.m)())}},{key:"_dispatchHasConnected",value:function(){this.reduxStore.dispatch(Object(u.h)())}},{key:"_dispatchHasDropConnection",value:function(){this.reduxStore.dispatch(Object(u.i)())}},{key:"_dispatchHasFailedToConnect",value:function(){this.reduxStore.dispatch(Object(u.j)())}},{key:"onReceiveMessage",value:function(e){var t=e.type,n=e.payload;this.reduxStore.dispatch({type:"@@api/listener/".concat(t),payload:n})}},{key:"_reconnectAfterTimeout",value:function(e){var t=this;this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],void 0===this.reconnectTimeout&&(this.reconnectTimeout=setTimeout(function(){t.connect(),t.reconnectTimeout=void 0},e))}},{key:"disconnect",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.stompClient&&this.stompClient.connected&&this.stompClient.disconnect(),this.onDisconnectCallback&&this.onDisconnectCallback()}},{key:"disconnectAndReconnect",value:function(){clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.disconnect(),this.connect()}}]),e}(),f=n(50),p=n(40),m=n(24),h=n(39),g=n(73);n.d(t,"a",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return C}),n.d(t,"g",function(){return O}),n.d(t,"b",function(){return S});var b=function(e){(r=new d(a=e,function(){a.dispatch(Object(u.n)()),a.dispatch(Object(m.f)()),a.dispatch(Object(p.f)()),a.dispatch(Object(f.f)()),a.dispatch(Object(h.e)()),a.dispatch(Object(g.c)())})).connect()},v=function(){r.disconnectAndReconnect()},E=function(){a.dispatch(Object(p.g)()),r.send("/joal/global/start")},y=function(){a.dispatch(Object(p.h)()),r.send("/joal/global/stop")},C=function(e){a.dispatch(Object(m.g)(e)),r.send("/joal/config/save",JSON.stringify(e))},O=function(e){var t=new FileReader;console.log(e);!function n(){var a,o=e.pop();void 0!==o&&(a=o,t.onload=function(){var e=t.result.replace(/data:.+?,/,"");r.send("/joal/torrents/upload",JSON.stringify({fileName:a.name,b64String:e})),setTimeout(n,1300)},t.onabort=function(){return console.log("file reading was aborted for [".concat(a.name,"]"))},t.onerror=function(){return console.log("file reading has failed for [".concat(a.name,"]"))},t.readAsDataURL(a))}()},S=function(e){r.send("/joal/torrents/delete",e)}},316:function(e,t){},39:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return c});var a="@@api/listener/TORRENT_FILE_ADDED",r="@@api/listener/TORRENT_FILE_DELETED",o="@@api/listener/FAILED_TO_ADD_TORRENT_FILE",i="@@reset/RESET_TORRENT_FILES_STATE",c=function(){return{type:i}}},40:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return u});var a="@@api/listener/GLOBAL_SEED_STARTED",r="@@api/listener/GLOBAL_SEED_STOPPED",o="@@api/send/SEND_START_TO_SERVER",i="@@api/send/SEND_STOP_TO_SERVER",c="@@reset/RESET_CLIENT_STATE";function s(){return{type:o}}function l(){return{type:i}}var u=function(){return{type:c}}},453:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),i=n(7),c=n(96),s=n.n(c),l=n(97),u=n.n(l),d=n(173),f=n.n(d),p=function(e){var t=e.children,n=e.themeType;return r.a.createElement(i.MuiThemeProvider,{theme:function(e){return Object(i.createMuiTheme)({palette:{primary:{light:s.a[300],main:s.a[500],dark:s.a[700]},secondary:{light:u.a[300],main:u.a[500],dark:u.a[700]},type:e},typography:{useNextVariants:!0}})}(n)},r.a.createElement(f.a,null),t)};var m=Object(o.b)(function(e){return{themeType:e.theme.palette.type}})(p),h=n(53),g=n.n(h),b=n(174),v=n.n(b),E=n(175),y=n.n(E),C=Object(i.withStyles)(function(){return{icon:{fill:"#FFF"}}})(function(e){var t=e.classes,n=e.palette,a=e.onClickChangeThemeType;return r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"Switch theme type",onClick:a},"light"===n.type?r.a.createElement(v.a,{className:t.icon,size:"medium"}):r.a.createElement(y.a,{className:t.icon,size:"medium"})))}),O=n(89),S=Object(o.b)(function(e){return{palette:e.theme.palette}},function(e){return{onClickChangeThemeType:function(){return e(Object(O.b)())}}})(C),N=n(458),j=n(457),k=n(62),x=n(13),w=n.n(x),T=n(92),I=n.n(T),R=n(93),_=n.n(R),D=n(32),A=n.n(D),F=n(188),P=n.n(F),B=n(55),L=n.n(B),H=n(179),$=n.n(H),U=n(29),M=n.n(U),V=n(178),G=n.n(V),W=n(177),J=n.n(W),z=n(26),q=n.n(z),Y=n(117),K=n.n(Y),X=n(176),Z=n.n(X),Q=n(61),ee=n.n(Q),te=n(5),ne=n.n(te),ae=function(e){var t=e.className,n=e.classes,a=e.client,o=e.overallUploadSpeed,i=e.isStarted,c=e.onClickStart,s=e.onClickStop,l=e.numberOfQueuedTorrents,u=i?"Running":"Paused";return r.a.createElement(M.a,{elevation:2,className:ne()(n.container,t)},r.a.createElement(q.a,{className:n.clientState,align:"center",variant:"h5",gutterBottom:!0},u),r.a.createElement(A.a,{color:"primary",fullWidth:!0,variant:"contained",className:i?n.redTextButton:n.greenTextButton,classes:{contained:n.playPauseButton},onClick:i?s:c},i?r.a.createElement(J.a,{className:n.leftIcon}):r.a.createElement(G.a,{className:n.leftIcon}),i?"stop":"start"),r.a.createElement($.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(q.a,{align:"center",variant:"body2",gutterBottom:!0},r.a.createElement("b",null,a)),r.a.createElement(q.a,{align:"left",variant:"body2",gutterBottom:!0},"Overall speed :  ".concat(ee()(o,{base:10}),"/s")),r.a.createElement(q.a,{align:"left",variant:"body2",gutterBottom:!0},"Torrents in queue :  ".concat(l)))};ae.defaultProps={className:""};var re=Object(i.withStyles)(function(e){return{container:{padding:15},leftIcon:{marginRight:e.spacing.unit},playPauseButton:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100],boxShadow:e.shadows[2],"&:focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&:disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[300],"@media (hover: none)":{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[300]},"&:disabled":{backgroundColor:e.palette.action.disabledBackground}}},redTextButton:{color:K.a[400]},greenTextButton:{color:Z.a[400]}}})(ae),oe=n(27),ie=function(e){return 0===e.length?0:e.reduce(function(e,t){return e+t.bytesPerSeconds},0)};var ce=Object(o.b)(function(e){var t=e.api.announcers.map(function(e){return e.infoHash});return{client:e.api.client.name,overallUploadSpeed:ie(e.api.speed),isStarted:e.api.client.isStarted,numberOfQueuedTorrents:e.api.torrentFiles.filter(function(e){return!t.includes(e.infoHash)}).length,onClickStart:function(){return Object(oe.e)()},onClickStop:function(){return Object(oe.f)()}}})(re),se=n(204),le=n(180),ue=n.n(le),de=function(e){var t=e.classes,n=e.style,a=e.containerStyle,o=e.active,i=Object(se.a)(e,["classes","style","containerStyle","active"]);return o?r.a.createElement("div",{className:t.container,style:a},o&&r.a.createElement(ue.a,Object.assign({},i,{style:n}))):r.a.createElement("div",{style:{width:0,height:0,position:"absolute"}})};de.defaultProps={style:{},containerStyle:{}};var fe=Object(i.withStyles)(function(){return{container:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(200, 200, 200, 0.63)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center"}}})(de),pe=n(181),me=n(36),he=n(37),ge=n(46),be=n(44),ve=n(45),Ee=n(47),ye=n.n(Ee),Ce=n(49),Oe=n.n(Ce),Se=n(38),Ne=n.n(Se),je=n(48),ke=n.n(je),xe=n(182),we=n.n(xe),Te=n(185),Ie=n.n(Te),Re=n(184),_e=n.n(Re),De=n(183),Ae=n.n(De),Fe=function(e){function t(e){var n;Object(me.a)(this,t),n=Object(ge.a)(this,Object(be.a)(t).call(this,e));var a=e.config;return n.state={isModalVisible:!1,host:a.host,port:a.port,pathPrefix:a.pathPrefix,secretToken:a.secretToken,hostErr:""!==a.host?"":"Required field",portErr:""!==a.port?"":"Required field",pathPrefixErr:""!==a.pathPrefix?"":"Required field",secretTokenErr:""!==a.secretToken?"":"Required field"},n}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"handleHostChange",value:function(e){var t=""===e?"Required field":"";this.setState({host:e,hostErr:t})}},{key:"handlePortChange",value:function(e){var t="",n=e-0;isNaN(n)?t="You mad bro !":(0===n&&(t="Port is required"),n>65535&&(t="A port that big, seriously ?")),this.setState({port:e,portErr:t})}},{key:"handlePathPrefixChange",value:function(e){var t=""===e?"Required field":"";this.setState({pathPrefix:e,pathPrefixErr:t})}},{key:"handleSecretTokenChange",value:function(e){var t=""===e?"Required field":"";this.setState({secretToken:e,secretTokenErr:t})}},{key:"discardChangesAndClose",value:function(){var e=this.props.config;this.setState(Object(pe.a)({},e,{isModalVisible:!1}))}},{key:"saveConfig",value:function(){var e=this.props.saveNewConf,t=this.state,n=t.host,a=t.port,r=t.pathPrefix,o=t.secretToken;this.hasError()||(e({host:n,port:a,pathPrefix:r,secretToken:o}),this.setState({isModalVisible:!1}))}},{key:"hasError",value:function(){var e=this.state,t=e.host,n=e.port,a=e.pathPrefix,r=e.secretToken,o=e.hostErr,i=e.portErr,c=e.pathPrefixErr,s=e.secretTokenErr;return!(t&&n&&a&&r)||!!(o||i||c||s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isConnected,o=t.style,i=this.state,c=i.isModalVisible,s=i.host,l=i.port,u=i.pathPrefix,d=i.secretToken,f=i.hostErr,p=i.portErr,m=i.pathPrefixErr,h=i.secretTokenErr;return r.a.createElement("div",{style:o},r.a.createElement(A.a,{variant:"contained",fullWidth:!0,onClick:function(){return e.setState({isModalVisible:!0})},className:a?"":n.redButton,classes:{contained:n.changeConfigButton}},"Change connection settings"),r.a.createElement(we.a,{open:c,onClose:function(){return e.discardChangesAndClose()},"aria-labelledby":"form-dialog-connection-settings",scroll:"paper"},r.a.createElement(Ae.a,{id:"form-dialog-connection-settings"},"Connection settings"),r.a.createElement(_e.a,null,r.a.createElement(ye.a,{className:n.formControl,error:f.length>0,"aria-describedby":"server-address-text"},r.a.createElement(ke.a,{htmlFor:"server-address"},"Server address"),r.a.createElement(Ne.a,{id:"server-address",placeholder:"host",value:s,onChange:function(t){return e.handleHostChange(t.target.value)}}),r.a.createElement(Oe.a,{id:"server-address-text"},f)),r.a.createElement(ye.a,{className:n.formControl,error:f.length>0,"aria-describedby":"server-port-text"},r.a.createElement(ke.a,{htmlFor:"server-port"},"Server port"),r.a.createElement(Ne.a,{id:"server-port",placeholder:"port",type:"number",value:l,onChange:function(t){return e.handlePortChange(t.target.value)}}),r.a.createElement(Oe.a,{id:"server-port-text"},p)),r.a.createElement(ye.a,{className:n.formControl,error:f.length>0,"aria-describedby":"path-prefix-text"},r.a.createElement(ke.a,{htmlFor:"path-prefix"},"Path prefix"),r.a.createElement(Ne.a,{id:"path-prefix",placeholder:"Obfuscation path prefix",value:u,onChange:function(t){return e.handlePathPrefixChange(t.target.value)}}),r.a.createElement(Oe.a,{id:"path-prefix-text"},m)),r.a.createElement(ye.a,{className:n.formControl,error:f.length>0,"aria-describedby":"secret-token-text"},r.a.createElement(ke.a,{htmlFor:"secret-token"},"Secret token"),r.a.createElement(Ne.a,{id:"secret-token",placeholder:"Your secret token",value:d,onChange:function(t){return e.handleSecretTokenChange(t.target.value)}}),r.a.createElement(Oe.a,{id:"secret-token-text"},h))),r.a.createElement(Ie.a,null,r.a.createElement(A.a,{label:"Cancel",onClick:function(){return e.discardChangesAndClose()}},"Cancel"),r.a.createElement(A.a,{variant:"contained",color:"primary",disabled:this.hasError(),onClick:function(){return e.saveConfig()}},"Save"))))}}]),t}(a.Component);Fe.defaultProps={style:{}};var Pe=Object(i.withStyles)(function(e){return{changeConfigButton:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100],boxShadow:e.shadows[2],"&:focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&:disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[300],"@media (hover: none)":{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[300]},"&:disabled":{backgroundColor:e.palette.action.disabledBackground}}},redButton:{color:e.palette.getContrastText(e.palette.error.main),backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},formControl:{margin:e.spacing.unit}}})(Fe),Be=n(54);var Le=Object(o.b)(function(e){return{isConnected:e.api.stomp.isConnected,config:Object(Be.a)(),saveNewConf:function(e){Object(Be.b)(e),Object(oe.c)()}}})(Pe),He=n(2),$e=n(186),Ue=n.n($e),Me=n(75),Ve=n.n(Me),Ge=n(52),We=function(e){var t=e.className,n=e.classes,a=e.leechers,o=e.seeders,i=null===a||void 0===a?"?":a,c=null===o||void 0===o?"?":o;return r.a.createElement("div",{className:t},r.a.createElement("div",null,r.a.createElement(L.a,{title:"leechers","aria-label":"leechers",placement:"top"},r.a.createElement("span",{className:n.leechers,"data-for":"leechers","data-tip":"Leechers"},r.a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})," ".concat(i))),r.a.createElement(L.a,{title:"leechers","aria-label":"seeders",placement:"top"},r.a.createElement("span",{className:n.seeders,"data-for":"seeders","data-tip":"Seeders"},r.a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})," ".concat(c)))))};We.defaultProps={className:"",leechers:void 0,seeders:void 0};var Je=Object(i.withStyles)(function(e){return{leechers:{color:e.palette.primary.light,marginRight:12},seeders:{color:e.palette.primary.light}}})(We),ze=n(74),qe=n(94),Ye=n.n(qe),Ke=function(e){function t(e){var n;return Object(me.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).normaliseInfoHash=function(e){return btoa(e)},n.normaliseProgressPercent=function(e,t){return 100*e/t},n.cancelTimer=n.cancelTimer.bind(Object(ze.a)(Object(ze.a)(n))),n.state={completed:e.startAt,maxValue:e.maxValue},n}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){var t=e.state,n=t.maxValue,a=t.completed+1;a>n?(e.setState({completed:n}),e.cancelTimer()):e.setState({completed:a})},1e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.startAt,a=t.maxValue;e.startAt===n&&e.maxValue===a||this.setState({completed:e.startAt,maxValue:e.maxValue})}},{key:"componentWillUnmount",value:function(){this.cancelTimer()}},{key:"cancelTimer",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.classes,a=e.infoHash,o=e.color,i=this.state,c=i.maxValue,s=i.completed,l=c-s;return r.a.createElement("div",null,r.a.createElement(Ye.a,{color:o,className:ne()(n.progressBar,t),variant:"determinate","data-tip":"Updating tracker stats in ".concat(l,"s"),"data-for":"nextUpdate".concat(this.normaliseInfoHash(a)),value:this.normaliseProgressPercent(s,c)}),r.a.createElement(_.a,{id:"nextUpdate".concat(this.normaliseInfoHash(a)),getContent:[function(){return"Updating tracker stats in ".concat(l,"s")},1e3]}))}}]),t}(a.Component);Ke.defaultProps={className:""};var Xe=Object(i.withStyles)(function(){return{progressBar:{}}})(Ke),Ze=function(e){var t=e.classes,n=e.className,a=e.color;return r.a.createElement(Ye.a,{color:a,className:ne()(t.progressBar,n)})};Ze.defaultProps={className:""};var Qe=Object(i.withStyles)(function(){return{progressBar:{}}})(Ze),et=function(e){var t=e.className,n=e.color,a=e.isFetching,o=e.nextAnnounceIn,i=e.announceInterval,c=e.infoHash;if(a)return r.a.createElement(Qe,{color:n,className:t});var s=i-o,l=i;return r.a.createElement(Xe,{className:t,color:n,infoHash:c,startAt:s,maxValue:l})};et.defaultProps={className:"",color:"primary",nextAnnounceIn:void 0,announceInterval:void 0};var tt=et,nt=function(e){var t=e.className,n=e.speedInBytesPerSeconds;return r.a.createElement(q.a,{variant:"caption",className:t},void 0===n?"? B/s":"".concat(ee()(n,{base:10}),"/s"))};nt.defaultProps={className:""};var at=nt;var rt=Object(o.b)(function(e,t){var n=e.api.speed.find(function(e){return e.infoHash===t.infoHash});return{speedInBytesPerSeconds:null===n||void 0===n?void 0:n.bytesPerSeconds}},function(){return{}})(at),ot=function(e){var t=e.width,n=e.className,a=e.classes,o=e.announcer,i=e.onClickDeleteTorrent,c=o.lastKnownInterval;if(void 0!==o.lastAnnouncedAt){var s=Date.parse(o.lastAnnouncedAt),l=(Date.now()-s)/1e3;c=Math.round(o.lastKnownInterval-l)}var u="xs"===t||"sm"===t?70:175,d=o.torrentName;return o.torrentName.length>u&&(d="".concat(o.torrentName.substring(0,u),"...")),r.a.createElement(M.a,{elevation:2,style:{position:"relative"},className:ne()(a.root,n)},r.a.createElement(w.a,{container:!0,direction:"row"},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(q.a,{className:a.title,variant:"body2",gutterBottom:!0},"".concat(d," (").concat(ee()(o.torrentSize,{standard:"iec"}),")"))),r.a.createElement(w.a,{item:!0,style:{width:42}},r.a.createElement(L.a,{title:"Delete this torrent",placement:"left"},r.a.createElement(g.a,{className:a.deleteButton,"aria-label":"Delete",onClick:function(){return i(o.infoHash)}},r.a.createElement(Ue.a,null))))),r.a.createElement(w.a,{container:!0,direction:"row"},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(Je,{className:a.peersStats,leechers:o.lastKnownLeechers,seeders:o.lastKnownSeeders})),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement("div",{className:a.uploadSpeedContainer},r.a.createElement(rt,{infoHash:o.infoHash})))),r.a.createElement(tt,{color:"primary",className:a.announceProgressBar,infoHash:o.infoHash,isFetching:o.isFetching,announceInterval:o.lastKnownInterval,nextAnnounceIn:c}))};ot.defaultProps={className:""};var it=Ve()()(Object(i.withStyles)(function(e){return{root:{paddingTop:e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,paddingBottom:e.spacing.unit/2},title:{marginTop:3,lineHeight:1.2,wordBreak:"break-word"},uploadSpeedContainer:{bottom:5,fontSize:18,position:"absolute",right:2*e.spacing.unit},peersStats:{fontSize:14},deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(Ge.fade)(e.palette.error.main,e.palette.action.hoverOpacity)},position:"absolute",right:2,top:2,padding:0,height:35,width:42},announceProgressBar:{position:"absolute",left:0,right:0,bottom:0,height:4}}})(ot)),ct=n(72),st=n.n(ct),lt=n(187),ut=n.n(lt),dt=function(e){var t=e.classes,n=e.className,a=e.searchFilter,o=e.onFilterTextChange;return r.a.createElement(M.a,{className:ne()(t.root,n),elevation:1},r.a.createElement(st.a,{value:a,onChange:function(e){return o(e.target.value)},className:t.input,placeholder:"Filter by name"}),r.a.createElement(g.a,{className:t.iconButton,"aria-label":"Search"},r.a.createElement(ut.a,null)))};dt.defaultProps={searchFilter:"",className:""};var ft=Object(i.withStyles)(function(){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:8,flex:1},iconButton:{padding:10}}})(dt),pt=Object(i.withStyles)(function(e){var t;return{announersList:Object(He.a)({marginTop:e.spacing.unit},e.breakpoints.up("md"),{marginLeft:2*e.spacing.unit}),announcer:(t={},Object(He.a)(t,e.breakpoints.down("md"),{marginBottom:2*e.spacing.unit}),Object(He.a)(t,e.breakpoints.up("md"),{marginBottom:e.spacing.unit}),t),searchBar:{marginBottom:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.announcers,a=e.searchFilter,o=e.onFilterTextChange,i=e.onClickDeleteTorrent;return r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h6"},"Currently seeding (".concat(n.length,")")),r.a.createElement(ft,{onFilterTextChange:o,className:t.searchBar,searchFilter:a,onSearchTextChange:console.log}),r.a.createElement("div",{className:t.announersList},n.map(function(e){return r.a.createElement("div",{key:e.infoHash},r.a.createElement(it,{className:t.announcer,announcer:e,onClickDeleteTorrent:i}))}),0===n.length&&r.a.createElement("div",{className:"text-center"},"No torrents are currently seeding.",r.a.createElement("br",null),"Drag and Drop torrents into the windows to start seeding")))}),mt=n(88),ht=function(e,t){if(0===t.trim().length)return e;var n=t.toLowerCase();return e.filter(function(e){return e.torrentName.toLowerCase().includes(n)})};var gt=Object(o.b)(function(e){return{announcers:ht(e.api.announcers,e.app.torrentsTable.searchFilter),searchFilter:e.app.torrentsTable.searchFilter}},function(e){return{onFilterTextChange:function(t){return e(Object(mt.b)(t))},onClickDeleteTorrent:function(e){return Object(oe.b)(e)}}})(pt),bt=function(e){var t=e.className,n=e.shouldDisplayConfigChangerButton,a=e.classes,o=e.isConnectedToWebSocket,i=e.isClientGlobalStatePending,c=e.isStarted,s=e.uploadTorrentFiles;return r.a.createElement(w.a,{container:!0,spacing:16,direction:"row",className:t},r.a.createElement(w.a,{item:!0,xs:12,md:4,lg:3},n&&r.a.createElement(Le,{style:{marginBottom:6}}),r.a.createElement("div",{className:a.relative},r.a.createElement(fe,{active:!o||i}),r.a.createElement(ce,null))),c&&r.a.createElement(w.a,{item:!0,xs:12,md:8,lg:9,className:a.announcers},r.a.createElement(gt,null)),r.a.createElement(_.a,{place:"top",type:"dark",effect:"float"}),r.a.createElement("input",{type:"file",accept:".torrent",multiple:!0,id:"add-torrent-file-button",className:a.addButtonInput,onChange:function(e){return s(Array.from(e.target.files))}}),r.a.createElement("label",{htmlFor:"add-torrent-file-button"}," ",r.a.createElement(L.a,{title:"Add a torrent","aria-label":"Add a torrent",placement:"left"},r.a.createElement(A.a,{className:a.addButton,variant:"fab",component:"span",disabled:!c,color:"secondary","aria-label":"Add"},r.a.createElement(P.a,null)))))};bt.defaultProps={className:""};var vt=Object(i.withStyles)(function(e){return{relative:{position:"relative"},addButton:{position:"fixed",bottom:75,right:2*e.spacing.unit},addButtonInput:{display:"none"},announcers:{marginBottom:70}}})(bt);var Et=Object(o.b)(function(e){return{isStarted:e.api.client.isStarted,isConnectedToWebSocket:e.api.stomp.isConnected,isClientGlobalStatePending:e.api.client.isFetching,shouldDisplayConfigChangerButton:!I()()}},function(){return{uploadTorrentFiles:function(e){return Object(oe.g)(e)}}})(vt),yt=n(98),Ct=n.n(yt),Ot=n(191),St=n.n(Ot),Nt=n(190),jt=n.n(Nt),kt=n(118),xt=n.n(kt),wt=n(189),Tt=n.n(wt),It={PaperProps:{style:{maxHeight:288}}},Rt=Object(i.withStyles)(function(e){return{container:{padding:2*e.spacing.unit,position:"relative"},discardChangesButton:{marginRight:2*e.spacing.unit},formInput:{marginBottom:3*e.spacing.unit,minWidth:180},rightSpaced:{marginRight:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.isConnectedToWebSocket,a=e.discardLocalConfigChanges,o=e.onSettingsChange,i=e.onClickSave,c=e.availableClients,s=e.config,l=e.isLocalConfigChanged,u=function(e){return o(Object.assign({},s,e))};return r.a.createElement(w.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:12,md:6},r.a.createElement(M.a,{className:t.container,elevation:2},r.a.createElement(fe,{active:!n}),r.a.createElement(w.a,{container:!0,direction:"row"},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(Ct.a,{className:ne()(t.formInput,t.rightSpaced),label:"Min upload rate (kB/s)",type:"number",min:0,value:s.minUploadRate,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({minUploadRate:t})}}),r.a.createElement(Ct.a,{className:t.formInput,label:"Max upload rate (kB/s)",type:"number",min:0,value:s.maxUploadRate,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({maxUploadRate:t})}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(ye.a,{className:t.formInput},r.a.createElement(ke.a,{htmlFor:"torrent-client-selector"},"Torrent client"),r.a.createElement(xt.a,{value:s.client,onChange:function(e){return u({client:e.target.value})},input:r.a.createElement(Ne.a,{name:"torrent-client",id:"torrent-client-selector"}),MenuProps:It},c.map(function(e){return r.a.createElement(Tt.a,{key:e,value:e},e.substring(0,e.lastIndexOf(".")))})))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(Ct.a,{className:t.formInput,label:"Simultaneous seed",type:"number",min:1,value:s.simultaneousSeed,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({simultaneousSeed:t})}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement("div",{className:t.formInput},r.a.createElement(jt.a,{control:r.a.createElement(St.a,{style:{paddingBottom:0,paddingTop:0},color:"primary",checked:s.keepTorrentWithZeroLeechers,onChange:function(e,t){return u({keepTorrentWithZeroLeechers:t})}}),label:"Keep seeding torrents even with no peers"}),r.a.createElement(Oe.a,{style:{marginTop:0}},"If checked, when a torrent reach 0 peers it will seed at 0 kB/s. Otherwise, when a torrent reach 0 peers it will be removed.")))),r.a.createElement(w.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(w.a,{item:!0},l&&r.a.createElement(A.a,{variant:"outlined",onClick:function(){return a()},color:"secondary",className:t.discardChangesButton},"Discard"),r.a.createElement(A.a,{variant:"contained",onClick:function(){return i(s)},color:"secondary"},"Save"))))))}),_t=n(63);var Dt=Object(o.b)(function(e){return{isLocalConfigChanged:void 0!==e.app.config.localConfig,config:e.app.config.localConfig||e.api.settings.config,availableClients:e.api.settings.availableClients,isConnectedToWebSocket:e.api.stomp.isConnected}},function(e){return{discardLocalConfigChanges:function(){return e(Object(_t.c)())},onSettingsChange:function(t){return e(Object(_t.d)(t))},onClickSave:function(e){return Object(oe.d)(e)}}})(Rt),At=n(192),Ft=n.n(At),Pt=n(193),Bt=n.n(Pt),Lt=Object(i.withStyles)(function(){return{container:{textAlign:"center",marginTop:100,height:"100%"}}})(function(e){var t=e.classes;e.events;return r.a.createElement(w.a,{container:!0,className:t.container},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(Ft.a,{viewBox:"0 0 24 20",style:{color:Bt.a[500],height:200,width:166}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement("b",null,"Hey it looks like you discovered the super secret tab !")),r.a.createElement(w.a,{item:!0,xs:12},"This tab will tell you what was the last actions JOAL has performed. Unfortunately this is still under development, check it back later ;)"))});var Ht=Object(o.b)(function(){return{events:[]}})(Lt),$t=n(194),Ut=n.n($t),Mt=n(99),Vt=n.n(Mt),Gt=n(195),Wt=n.n(Gt),Jt=n(196),zt=n.n(Jt),qt=n(197),Yt=n.n(qt),Kt=function(e){var t,n=e.currentPath,a=e.onClickDashboard,o=e.onClickSettings,i=e.onClickLogs;return r.a.createElement(M.a,{elevation:1},r.a.createElement(Ut.a,{showLabels:!0,value:(t=n,"/"===t?0:"/settings"===t?1:2),onChange:function(e,t){0===t?a():1===t?o():2===t&&i()}},r.a.createElement(Vt.a,{label:"dashboard",icon:r.a.createElement(Wt.a,null)}),r.a.createElement(Vt.a,{label:"configuration",icon:r.a.createElement(zt.a,null)}),r.a.createElement(Vt.a,{label:"history",icon:r.a.createElement(Yt.a,null)})))},Xt=n(56);var Zt=Object(o.b)(function(e){return{currentPath:e.router.location.pathname}},function(){return{onClickDashboard:function(){return Xt.history.push("/")},onClickSettings:function(){return Xt.history.push("/settings")},onClickLogs:function(){return Xt.history.push("/history")}}})(Kt),Qt=n(203),en=function(e){function t(){var e;return Object(me.a)(this,t),(e=Object(ge.a)(this,Object(be.a)(t).call(this))).state={dropzoneActive:!1},e}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"onDragEnter",value:function(){this.setState({dropzoneActive:!0})}},{key:"onDragLeave",value:function(){this.setState({dropzoneActive:!1})}},{key:"onDrop",value:function(e,t){var n=this.props.onDrop;this.setState({dropzoneActive:!1}),n(e,t)}},{key:"render",value:function(){var e=this.state.dropzoneActive,t=this.props,n=t.classes,a=t.children;return r.a.createElement(Qt.a,{disableClick:!0,className:n.dropzone,onDrop:this.onDrop.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this)},r.a.createElement("div",null,a,e&&r.a.createElement("div",{className:n.overlay},r.a.createElement("i",{className:ne()("fa","fa-download","fa-5x"),"aria-hidden":"true"}))))}}]),t}(a.Component),tn=Object(i.withStyles)(function(){return{dropzone:{position:"absolute",top:0,bottom:0,left:0,right:0},overlay:{zIndex:16777270,position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(156, 155, 155, 0.86)",color:"rgba(130, 130, 130, 0.75)",display:"flex",alignItems:"center",justifyContent:"center"}}})(en),nn=n(199),an=n.n(nn),rn=n(200),on=n.n(rn),cn=function(e){var t=e.className,n=e.classes;return r.a.createElement("div",{className:ne()(n.root,t)},r.a.createElement(an.a,{position:"static"},r.a.createElement(on.a,null,r.a.createElement(q.a,{variant:"h6",color:"inherit",className:n.grow},"Joal"),r.a.createElement(S,null))))};cn.defaultProps={className:{}};var sn=Object(i.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(cn),ln=n(95),un=function(e){var t=e.classes,n=e.className,a=e.children;return r.a.createElement("svg",{className:ne()(t.icon,n),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{minWidth:24}},a)};un.defaultProps={className:""};var dn=Object(i.withStyles)(function(){return{icon:{stroke:"black"}}})(un),fn=function(e){var t=e.classes,n=e.className;return r.a.createElement(dn,{classes:{icon:t.icon},className:n},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))};fn.defaultProps={className:""};var pn=Object(i.withStyles)(function(){return{icon:{stroke:"#2E9AFE"}}})(fn),mn=function(e){var t=e.classes,n=e.className;return r.a.createElement(dn,{classes:{icon:t.icon},className:n},r.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))};mn.defaultProps={className:""};var hn=Object(i.withStyles)(function(){return{icon:{stroke:"#31B404"}}})(mn),gn=function(e){var t=e.classes,n=e.className;return r.a.createElement(dn,{classes:{icon:t.icon},className:n},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};gn.defaultProps={className:""};var bn=Object(i.withStyles)(function(){return{icon:{stroke:"#FF0040"}}})(gn),vn=function(e){var t=e.classes,n=e.className;return r.a.createElement(dn,{classes:{icon:t.icon},className:n},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))};vn.defaultProps={className:""};var En=Object(i.withStyles)(function(){return{icon:{stroke:"#000000"}}})(vn),yn=Object(i.withStyles)(function(e){var t;return{alert:(t={backgroundColor:"".concat("dark"===e.palette.type?"#333":"#fff"),borderRadius:3,padding:10,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 2px 2px 2px rgba(0, 0, 0, 0.03)",fontFamily:"Arial",fontSize:11,width:350},Object(He.a)(t,e.breakpoints.down("xs"),{width:"75vw"}),Object(He.a)(t,"boxSizing","border-box"),Object(He.a)(t,"position","relative"),t),message:{color:"".concat("dark"===e.palette.type?"#fff":"#333"),paddingRight:40,textAlign:"center",textTransform:"uppercase"},statusIcon:{marginRight:15},closeButton:{padding:0,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:0,top:0,bottom:0,width:40,border:"none",backgroundColor:"dark"===e.palette.type?"#444":"#f3f3f3",cursor:"pointer"},closeIconOverride:{stroke:"dark"===e.palette.type?"#BBB":"#000"}}})(function(e){var t=e.classes,n=e.message,a=e.options,o=e.style,i=e.close;return r.a.createElement("div",{className:t.alert,style:o},"success"===a.type&&r.a.createElement(hn,{className:t.statusIcon}),"info"===a.type&&r.a.createElement(pn,{className:t.statusIcon}),"error"===a.type&&r.a.createElement(bn,{className:t.statusIcon}),r.a.createElement("span",{className:t.message,style:{flex:2}},n),r.a.createElement("button",{className:t.closeButton,onClick:i,type:"button"},r.a.createElement(En,{classes:{icon:t.closeIconOverride}})))}),Cn=n(90),On=function(e){function t(){return Object(me.a)(this,t),Object(ge.a)(this,Object(be.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.notifs,a=t.shouldShowDirtyConfNotif;return n!==e.notifs||a!==e.shouldShowDirtyConfNotif}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.shouldShowDirtyConfNotif,r=n.alert,o=n.notifs;e.shouldShowDirtyConfNotif!==a&&(!0===a?r.info("Config wont be refreshed until you restart JOAL",{id:"dirtyConfID"}):r.remove({id:"dirtyConfID"})),o!==e.notifs&&(o.forEach(function(e){-1===o.findIndex(function(t){return t.id===e.id})&&r.remove({id:e.id})}),o.forEach(function(n){-1===e.notifs.findIndex(function(e){return e.id===n.id})&&t.showNotification(n)}))}},{key:"showNotification",value:function(e){var t=this.props,n=t.alert,a=t.onMessageClosed,o=Object.assign({},e,{onClose:function(){return a(e.id)}}),i=o.text;switch(o.type){case"ERROR":n.error(r.a.createElement("span",null,i),o);break;case"SUCCESS":n.success(i,o);break;case"INFO":n.info(i,o);break;default:console.error("Unknown AlertMessage type: ".concat(o.type))}}},{key:"render",value:function(){return r.a.createElement("span",null)}}]),t}(a.Component);var Sn=Object(o.b)(function(e){var t=e.alerts;return{notifs:t.notifs,shouldShowDirtyConfNotif:t.shouldShowDirtyConfNotif}},function(e){return{onMessageClosed:function(t){return e(Object(Cn.b)(t))}}})(Object(ln.b)(On)),Nn=Ve()()(function(e){var t=e.width;return r.a.createElement(ln.a,{template:yn,offset:Object(Me.isWidthUp)("sm",t)?"10px":"6px",position:"top right",timeout:0,transition:"fade",zIndex:14e6},r.a.createElement(Sn,null))});var jn=Object(o.b)(function(){return{onFileDrop:function(e){Object(oe.g)(e)}}})(Object(i.withStyles)(function(e){return{root:{flexGrow:1,padding:2*e.spacing.unit},navigationBarWrapper:{position:"fixed",left:0,right:0,bottom:0}}})(function(e){var t=e.onFileDrop,n=e.classes,a=e.history;return r.a.createElement("div",null,r.a.createElement(Nn,null),r.a.createElement(tn,{onDrop:t},r.a.createElement("header",null,r.a.createElement(sn,null)),r.a.createElement(w.a,{container:!0,className:n.root},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement("main",null,r.a.createElement(k.a,{history:a},r.a.createElement(N.a,null,r.a.createElement(j.a,{exact:!0,path:"/history",component:Ht}),r.a.createElement(j.a,{exact:!0,path:"/settings",component:Dt}),r.a.createElement(j.a,{exact:!0,path:"/",component:Et})))),r.a.createElement("footer",{className:n.navigationBarWrapper},r.a.createElement(Zt,null))))))}));t.default=function(e){var t=e.store,n=e.history;return r.a.createElement(o.a,{store:t},r.a.createElement(m,null,r.a.createElement(jn,{history:n})))}},454:function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,s,l,u,d=n(42),f=n(168),p=n(201),m=n(62),h=n(2),g=n(9),b=n.n(g),v=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return"[object Function]"===Object.prototype.toString.call(t[a.type])?t[a.type](n,a):n}},E=n(88),y=v({searchFilter:"",sortBy:"",sortOrder:"",currentPage:1,torrentsPerPage:10},Object(h.a)({},E.a,function(e,t){return b()(e,{searchFilter:{$set:t.text}})})),C=n(63),O=n(24),S={localConfig:void 0},N=(a={},Object(h.a)(a,C.b,function(e,t){return b()(e,{localConfig:{$set:t.config}})}),Object(h.a)(a,C.a,function(e){return b()(e,{localConfig:{$set:void 0}})}),Object(h.a)(a,O.b,function(){return S}),Object(h.a)(a,O.a,function(){return S}),a),j=v(S,N),k=n(89),x=v({palette:{type:localStorage.getItem("themeType")||"light"}},Object(h.a)({},k.a,function(e){var t="light"===e.palette.type?"dark":"light";return localStorage.setItem("themeType",t),b()(e,{palette:{type:{$set:t}}})})),w=n(39),T=[],I=(r={},Object(h.a)(r,w.c,function(e,t){return b()(e.filter(function(e){return e.infoHash!==t.payload.infoHash}),{$push:[t.payload]})}),Object(h.a)(r,w.d,function(e,t){return e.filter(function(e){return e.infoHash!==t.payload.infoHash})}),Object(h.a)(r,w.a,function(e){return e}),Object(h.a)(r,w.b,function(){return T}),r),R=v(T,I),_=n(40),D={isFetching:!0,isStarted:!1,name:""},A=(o={},Object(h.a)(o,_.a,function(e,t){return b()(e,{isFetching:{$set:!1},isStarted:{$set:!0},name:{$set:t.payload.client}})}),Object(h.a)(o,_.b,function(e){return b()(e,{isFetching:{$set:!1},isStarted:{$set:!1},name:{$set:""}})}),Object(h.a)(o,_.d,function(e){return b()(e,{isFetching:{$set:!0}})}),Object(h.a)(o,_.e,function(e){return b()(e,{isFetching:{$set:!0}})}),Object(h.a)(o,_.c,function(){return D}),o),F=v(D,A),P={isDirty:!1,errMessage:void 0,config:{minUploadRate:0,maxUploadRate:0,simultaneousSeed:0,client:"",keepTorrentWithZeroLeechers:!1},availableClients:[]},B=(i={},Object(h.a)(i,O.b,function(e,t){return b()(e,{isDirty:{$set:!0},config:{$set:t.payload.config},errMessage:{$set:void 0}})}),Object(h.a)(i,O.c,function(e,t){return b()(e,{errMessage:{$set:t.payload.error}})}),Object(h.a)(i,O.a,function(e,t){return b()(e,{isDirty:{$set:!1},config:{$set:t.payload.config},errMessage:{$set:void 0}})}),Object(h.a)(i,O.d,function(e,t){return b()(e,{availableClients:{$set:t.payload.clients}})}),Object(h.a)(i,O.e,function(){return P}),i),L=v(P,B),H=n(73),$=[],U=(c={},Object(h.a)(c,H.b,function(e,t){return t.payload.speeds}),Object(h.a)(c,H.a,function(){return $}),c),M=v($,U),V=n(50),G=[],W=(s={},Object(h.a)(s,V.a,function(e,t){return e.find(function(e){return e.infoHash===t.payload.infoHash})?e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!1},t.payload):e}):b()(e,{$push:[Object.assign({},{isFetching:!1},t.payload)]})}),Object(h.a)(s,V.c,function(e,t){return"STOPPED"===t.payload.requestEvent?e.filter(function(e){return e.infoHash!==t.payload.infoHash}):e.find(function(e){return e.infoHash===t.payload.infoHash})?e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!1},t.payload):e}):b()(e,{$push:[Object.assign({},{isFetching:!1},t.payload)]})}),Object(h.a)(s,V.d,function(e,t){return e.filter(function(e){return e.infoHash!==t.payload.infoHash})}),Object(h.a)(s,V.e,function(e,t){return e.find(function(e){return e.infoHash===t.payload.infoHash})?e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!0},t.payload):e}):b()(e,{$push:[Object.assign({},{isFetching:!0},t.payload)]})}),Object(h.a)(s,V.b,function(){return G}),s),J=v(G,W),z=n(21),q={isConnected:!1,isFullyInit:!1},Y=(l={},Object(h.a)(l,z.e,function(e){return b()(e,{isFullyInit:{$set:!1}})}),Object(h.a)(l,z.a,function(e){return b()(e,{isConnected:{$set:!0}})}),Object(h.a)(l,z.c,function(e){return b()(e,{isConnected:{$set:!1},isFullyInit:{$set:!1}})}),Object(h.a)(l,z.b,function(e){return b()(e,{isConnected:{$set:!1},isFullyInit:{$set:!1}})}),Object(h.a)(l,z.d,function(e){return b()(e,{isFullyInit:{$set:!0}})}),Object(h.a)(l,z.g,function(){return q}),l),K=v(q,Y),X=n(90),Z=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},Q=!1,ee=v({shouldShowDirtyConfNotif:!1,notifs:[]},(u={},Object(h.a)(u,z.d,function(e){return Q=!0,e}),Object(h.a)(u,z.a,function(e){Q=!1;var t={id:Z(),text:"Connected to JOAL",timeout:6e3,type:"SUCCESS"};return b()(e,{notifs:{$push:[t]}})}),Object(h.a)(u,z.b,function(e){var t={id:Z(),text:"Lost connection to JOAL, auto-reconnect in 8 seconds.",timeout:6e3,type:"ERROR"};return b()(e,{notifs:{$push:[t]}})}),Object(h.a)(u,z.c,function(e){var t={id:Z(),text:"Failed to connect to JOAL, retry in 8 seconds.",timeout:6e3,type:"ERROR"};return b()(e,{notifs:{$push:[t]}})}),Object(h.a)(u,X.a,function(e,t){return Object.assign({},e,{notifs:e.notifs.filter(function(e){return e.id!==t.payload})})}),Object(h.a)(u,O.b,function(e){return b()(e,{shouldShowDirtyConfNotif:{$set:!0}})}),Object(h.a)(u,O.a,function(e){return b()(e,{shouldShowDirtyConfNotif:{$set:!1}})}),Object(h.a)(u,O.c,function(e,t){var n={id:Z(),text:"Invalid config: ".concat(t.payload.error),timeout:6e3,type:"ERROR"};return b()(e,{notifs:{$push:[n]}})}),Object(h.a)(u,w.c,function(e,t){if(!Q)return e;var n={id:Z(),text:"".concat(t.payload.name," added"),timeout:6e3,type:"SUCCESS"};return b()(e,{notifs:{$push:[n]}})}),Object(h.a)(u,w.a,function(e,t){var n={id:Z(),text:"".concat(t.payload.fileName," was rejected by server: ").concat(t.payload.error),timeout:6e3,type:"ERROR"};return b()(e,{notifs:{$push:[n]}})}),Object(h.a)(u,z.f,function(e,t){var n={id:Z(),text:t.message,timeout:8e3,type:"ERROR"};return b()(e,{notifs:{$push:[n]}})}),u)),te=Object(d.c)({api:Object(d.c)({torrentFiles:R,client:F,announcers:J,settings:L,speed:M,stomp:K}),app:Object(d.c)({config:j,torrentsTable:y}),theme:x,alerts:ee,router:m.c}),ne=Object(p.a)(),ae=Object(m.b)(ne),re=Object(d.a)(f.a,ae);t.default={configureStore:function(e){return Object(d.d)(te,e,re)},history:ne}},455:function(e,t,n){"use strict";n.r(t);var a=n(202),r=n(0),o=n.n(r),i=n(22),c=n.n(i),s=n(56);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(54),u=n(27),d=(n(220),n(221),Object(s.configureStore)());!function(){if(window.location.search&&window.location.search.includes("ui_credentials")){var e=new URLSearchParams(window.location.search),t=e.get("ui_credentials");if(null!==t)try{var n=JSON.parse(decodeURIComponent(t));Object(l.b)(n)}catch(o){console.error("Failed to extract uiConfig from url params.",o)}finally{e.delete("ui_credentials");var r=window.location.pathname;Object(a.a)(e).length>=1&&(r+="?".concat(e.toString())),window.location.hash&&(r+=window.location.hash),window.history.replaceState({},document.title,r)}}}(),Object(u.a)(d);var f=document.getElementById("root");!function(){var e=n(453).default;c.a.render(o.a.createElement(e,{store:d,history:s.history}),f)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return s});var a="@@api/listener/FAILED_TO_ANNOUNCE",r="@@api/listener/SUCCESSFULLY_ANNOUNCE",o="@@api/listener/TOO_MANY_ANNOUNCES_FAILED",i="@@api/listener/WILL_ANNOUNCE",c="@@reset/RESET_ANNOUNCER_STATE",s=function(){return{type:c}}},54:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var a,r=n(92);a=n.n(r)()()?n(218):n(219);var o=function(){return a.getConfig()},i=function(e){return a.saveConfig(e)}},56:function(e,t,n){e.exports=n(454).default},63:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i});var a="@@ui/LOCAL_CONFIG_HAS_CHANGED",r="@@ui/DISCARD_LOCAL_CONFIG";function o(e){return{type:a,config:e}}function i(){return{type:r}}},73:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var a="@@api/listener/SEEDING_SPEED_HAS_CHANGED",r="@@reset/RESET_SPEED_STATE",o=function(){return{type:r}}},88:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="@@ui/torrents-table/TORRENT_SEARCH_FILTER_TEXT_CHANGED";function r(e){return{type:a,text:e}}},89:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="@@ui/theme/CHANGE_THEME_TYPE";function r(){return{type:a}}},90:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="@@notifications/REMOVE_NOTIFICATION",r=function(e){return{type:a,payload:e}}}},[[206,2,1]]]);
//# sourceMappingURL=main.870f779c.chunk.js.map